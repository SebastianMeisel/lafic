
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//DE" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="de">
<head>
  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-latest.js"></script>
  <script>
    $(document).ready(function() {
    $(".fn").hover(function() {
    $("#footnotes").css({"position": "fixed"});
    }, function() {
    $("#footnotes").css({"position": "static"});
    });
    });
  </script>
  <link rel="stylesheet" href="./styles/standard.css">
<meta name="title"content="Einführung in LaFiC">
<meta name="author"content="Sebastian Meisel">
</head>

<body>
  
<h1>Einführung in LaFiC</h1>

<p>
LaFiC bedeutet <i>layout and format in comments</i>, also „Layout
und Format in Kommentaren“, denn sämtliche Formatierungen
werden in LAFIC in Kommentarzeilen ausgeführt. Das
ermöglicht eine <em>vollständige</em> Trennung von Inhalt und
Gestalt.
</p>

<H3>Warum LaFiC</H3>

<p>
Ich arbeite nun schon viele Jahre mit LaTeX / XeLaTeX. Ich
schreibe vor allem Prosa (ganz frei von mathematischen
Formeln). Dabei fand ich es zum Teil störend, dass ich immer
erst mit der Preamble beginnen muss und nicht einfach
losschreiben kann.
</p>

<p>
Daraufhin probierte ich markdown / multimarkdown aus. Dabei
störte mich aber, dass es sehr unflexible ist. Außerdem ist
die Syntax an manchen Stellen etwas kryptisch, was mich
störte. Außerdem funktionieren die erstellten LaTeX-Dateien
zwar irgendwie, sind aber auch sehr kryptisch aufgebaut.
</p>

<p>
Außerdem hatte ich immer die Worte meines Vaters im Ohr, der
sagte, er wolle am liebsten, wie einst mit der
Schreibmaschiene losschreiben können und dennoch ein
ordentliches Ergebnis bekommen.
</p>

<p>
Als letzte Motivation kam hinzu, dass ich immer wieder
darüber nachdachte, wie sich Inhalts- und
Gestaltungselemente des Textes noch sauberer trennen lassen,
als dies mit bisherigen Ansätzen möglich ist.
</p>

<p>
Mit LaFiC kann ich direkt losschreiben und bekomme von
anfang an ein ordentlich strukturiertes Ergebnis als Html-
und <a class="fn" href="#fn1" id="fna1">(Xe)LaTeX-</a>Datei, wodurch auch eine Ausgabe als Pdf
möglich ist.
</p>

<p>
Die eigentliche Formatierung geschieht erst im
Anschluss. Als mein eigener Lektor gehe ich durch den Text
und formatiere ihn mit für Menschen lesbaren und
verständlichen Kommentaren.
</p>

<h2>Installation und Benutzung</h2>

<H3>Vorraussetzungen</H3>

<p>
LaFiC setzt Perl &gt; 5.10.1 vorraus (getestet unter Perl 5.26.1).
</p>

<p>
Das Standard LaTeX-Template setzt eine aktuelle
XeLaTeX-Installation sowie graphicx, hyperref, microtype und
xspace voraus.
</p>

<p>
Die Gnu-Emacs-Einbindung wurde unter Gnu Emacs 25.2.2 getestet.
</p>

<p>
<span class="tt">lafic2pdf</span> setzt zudem latexmk (getestet mit Version 4.41) vorraus.
</p>

<H3>Installation</H3>

<p>
Holen Sie den Quelltext von <a href="https://github.com">github</a>:
</p>

<pre>
<p>git clone https://github.com/SebastianMeisel/lafic.git</p>
</pre>


<p>
Fügen Sie den Pfad zu <span class="tt">$PATH</span> Umgebungsvariable hinzu:
</p>

<pre>
<p>export PATH=${PATH}:~/lafic</p>
</pre>


<p>
Zur Nutzung des Major Modes in Emacs, kopieren (oder
verlinken) die Dateien <span class="tt">lafic-mode.el</span> und
<span class="tt">lafic-german-keywords.el</span> in ein Verzeichnis in Ihrem
<span class="tt">load-path</span>. Fügen Sie folgende Zeilen in Ihre Init-Datei
(<span class="tt">~/.emacs</span>) ein:
</p>

<pre>
<p>(setq lafic-use-german t)
(require ‚lafic-mode)</p>
</pre>


<p>
Wenn Sie keine Unterstützung von deutschen Schlüsselwörtern
wünschen oder benötigen, lassen Sie die erste Zeile weg.
</p>

<H3>Nutzung</H3>

<p>
Momentan besteht die LaFiC-Distribution aus drei
Skripten. Der Aufruf erfolgt jeweils analog:
</p>

<pre>
<p># lafic2html Datei.lafic
# lafic2tex Datei.lafic
# lafic2pdf Datei.lafic</p>
</pre>


<p>
Letzteres ruft zuerst <span class="tt">lafic2tex</span> und <span class="tt">latexmk</span> auf.
</p>

<p>
Durch den Aufruf dieser drei Skripte würden folgende Dateien
erstellt:
</p>

<pre>
<p>Datei.html
Datei.tex
Datei.pdf</p>
</pre>


<H3>Nutzung des LaFiC-Major-Modes in GNU Emacs</H3>

<p>
Nachdem Sie <span class="tt">lafic-mode.el</span> wie oben (siehe <a href="#Installation">Installation</a>)
beschrieben in Emacs eingebunden haben, wird der
LaFiC-Major-Mode beim Öffnen einer Datei mit der Endung
<span class="tt">*.lafic</span> aktiviert.
</p>

<p>
Dadurch stehen eine einfache Syntaxhervorhebung und einige
Tastenkürzel zur Verfügung. Als Prefix wird dabei jewweil
<span class="tt">C-c</span> verwendet. Die Tastenkürzel orientieren sich an AUCTeX,
sodass man gut zurecht kommen sollte, wenn man damit schon
gearbeitet hat.
</p>

<h2>Schreiben mit LaFiC</h2>

<H3>Zeilen und Absätze</H3>

<p>
Der Inhalt wird durch die Unterscheidung von <em>Zeilen</em> und
<em>Absätzen</em> gegliedert.
</p>

<p>
Dabei besteht der Unterschied nicht so sehr in der
Länge. Vielmehr unterscheiden sich Zeilen von Absätze
dadurch, dass sie kein Satzschlusszeichen <em>(., ?, !, :)</em>.
Wenn nicht anders festgelegt, werden sie als Überschriften
interpretiert.
</p>

<p>
Die erste <em>Zeile</em> wird als Titel interpretiert und zu \title
umgewandelt, wenn die Datei in LaTeX umgewandelt wird, bei
<span class="sc">Html</span>-Ausgabe wird es in &lt;h1&gt; umgewandelt.
</p>

<p>
Weitere <em>Zeilen</em> werden in &lt;h3&gt; (<span class="sc">Html</span>) oder \section
(LaTeX) umgewandelt, wenn es nicht anders angegeben wird.
</p>

<p>
Auf diese Weise können einfache Texte ganz ohne Formatierung
gegliedert werden.
</p>

<H3>Kommentare</H3>

<p>
Man kann im Text jeder Zeit Kommentare einführen in dem man einen Absatz einfügt, der mit zwei %-Zeichen beginnt:
</p>

<pre>
<p>  %% Dies ist ein Kommentar.</p>

<p>  %% Dies ist ein längerer Kommentar. Es ist wichtig, dass
  %% Kommentare immer durch eine Leerzeile vom eigentlichen
  %% Inhalt getrennt sind.</p>
</pre>




<H3>Formatierte Absätze</H3>

<p>
Absätze können formatiert werden, in dem eine Zeile
vorangestellt wird, die mit einem %-Zeichen beginnt dem ein
Schlüsselwort folgt. Ist das Schlüsselwort bekannt, wird
die entsprechende Umgebung (LaTeX), bzw. der entsprechende
Block (Html) ausgegeben. Ansonsten dient das Schlüsselwort
(umgewandelt in Kleinschreibung) als Name der Umgebung
(LaTeX), bzw. eines &lt;div&gt;-Blocks (Html).
</p>

<pre>
<p>  % Zentriert
  Dieser Absatz ist zentriert.</p>
</pre>


<center>
<p>Dieser Absatz ist zentriert.</p>
</center>


<p>
Folgen zwei Absätze mit dem selben Schlüsselwort
hintereinander, werden sie in einer Umgebung / einem Block
zusammengefasst.
</p>

<pre>
<p>  % Zitat
  Dies ist ein Zitat.</p>

<p>  % Zitat
  Hier geht das Zitat weiter.</p>
</pre>


<p>
Wird zu:
</p>

<div style="padding: 1em; text-align: center; background-color: lightgray">
<blockquote>
<p>Dies ist ein Zitat.</p>

<p>Hier geht das Zitat weiter.</p>
</blockquote>

</div>

<p>
Zur Zeit werden folgende Schlüsselworte unterstützt:
</p>

<ul>
<li> <span class="tt">„Zitat“</span> für quote-Umgebung / &lt;blockquote&gt;-Block.</li>
<li> <span class="tt">„Langzitat“</span> / LZitat für quotation-Umgebung / &lt;blockquote&gt;-Block.</li>
<li> <span class="tt">„Zentriert“</span> / Z für center-Umgebung / &lt;div class=<span class="tt">„center“</span>&gt;-Block mit text-align=<span class="tt">„center“</span></li>
<li> <span class="tt">„Verbatim“</span> für verbatim-Umgebung / &lt;pre&gt;-Block
</li>
</ul>


<H3>Formatierte Zeilen</H3>

<p>
Zeilen werden auf die gleiche Weise formatiert, nur werden sie in Makros (LaTeX) oder &lt;span&gt;-Ids (Html) umgewandelt. Zeilen sind in der Regel Überschriften.
</p>

<pre>
<p>    % Unterabschnitt
    Das ist ein Unterabschnitt</p>
</pre>


<h4>Dies ist ein Unterabschnitt</h4>

<p>
Folgende Schlüsselwörter werden zur Zeit unterstützt:
</p>

<ul>
<li> <span class="tt">„Überschrift“</span> für \addsec / &lt;h3&gt;</li>
<li> <span class="tt">„Titel“</span>, <span class="tt">„Überschrift1“</span>  für \title / &lt;h1&gt;</li>
<li> <span class="tt">„Teil“</span> / <span class="tt">„Überschrift2“</span> für \part / &lt;h2&gt;</li>
<li> <span class="tt">„<a class="fn" href="#fn2" id="fna2">Kapitel“</span> für \chapter / &lt;h2&gt;</a> </li>
<li> <span class="tt">„Abschnitt“</span>, <span class="tt">„Überschrift3“</span> für \section / &lt;h3&gt;</li>
<li> <span class="tt">„Unterabschnitt“</span> / <span class="tt">„Überschrift4“</span> für \subsection / &lt;h4&gt;</li>
<li> <span class="tt">„Unterunterabschnitt“</span> / <span class="tt">„Überschrift5“</span> für \subsubsection / &lt;h5&gt;</li>
<li> <span class="tt">„Absatz“</span> / <span class="tt">„Überschrift6“</span> für \paragraph / &lt;h6&gt;
</li>
</ul>


<H3>Textformatierung im Absatz</H3>

<p>
Wörter und Textabschnitte in einem Absatz werden in einem
Block nach dem Absatz formatiert. Jede Zeile beginnt mit
einem »<span class="tt">%</span>« gefolgt von:
</p>

<ul>
<li> dem Wort</li>
<li> dem ersten und letzten Wort den Abschnittes,
  getrennt durch 3 Punkte, bzw. durch »…«.
</li>
</ul>


<p>
Sie sind durch einen Doppelpunkt getrennt.
</p>

<pre>
<p>  Hallo gute alte Welt!
  % Hallo: fett
  % al…lt: hervorheben</p>
</pre>


<p>
wird zu:
<b>Hallo</b> gute <em>alte Welt</em>!
</p>

<p>
Folgende Schlüsselworte werden zur Zeit unterstützt:
</p>

<ul>
<li> <span class="tt">„fett“</span> für \textbf / &lt;b&gt;</li>
<li> <span class="tt">„hervorheben“</span> für \emph / &lt;em&gt;</li>
<li> <span class="tt">„kursiv“</span> für \textit / &lt;i&gt;</li>
<li> <span class="tt">„Schreibmaschiene“</span> oder <span class="tt">„nicht proportional“</span> für \texttt / &lt;span class=‚tt‘&gt;</li>
<li> <span class="tt">„Kapitälchen“</span> für \textsc / &lt;span class=‚sc‘&gt;</li>
<li> <span class="tt">„hochgestellt“</span> für \textsuperscript / &lt;sup&gt;</li>
<li> <span class="tt">„tiefgestellt“</span> für \textsubscript / &lt;sub&gt;
</li>
</ul>


<p>
Unbekannte Schlüsselworte werden in Makros (LaTeX) oder
&lt;span&gt;-Elemente (Html) umgewandelt.
</p>

<p>
Einige Schlüsselworte benötigen ein zweites Argument, dass
nach einem zweiten Doppelpunkt angefügt wird:
</p>

<pre>
<p>  Die Welt ist grün!
  % grün: Farbe: rot</p>
</pre>


<p>
Wird zu:
Die Welt ist <span style="color: red">grün</span>!
</p>

<p>
Folgende solcher Schlüsselworte werden zu Zeit unterstützt:
</p>

<ul>
<li> „url“ oder „link“ für \href / &lt;a href='[url‘]&gt;</li>
<li> „siehe“ für \nameref / &lt;a href='#[label]'&gt; </li>
<li> „Fußnote“ für  \footnote / &lt;a class=‚fn‘ href=<a class="fn" href="#fn4" id="fna4">‚xfn[x]'</a>&gt;</li>
<li> „Farbe“ für \textcolor / &lt;span style=‚color: [color]'&gt;
</li>
</ul>


<H3>Parameter</H3>

<p>
Es ist weiterhin möglich einer Zeile oder einem Absatz
zusätzliche Parameter hinzuzufügen. Die geschieht äquivalent
zu Formatierung im Absatz, nur dass ein Ist-gleich-Zeichen
statt des Doppelpunktes gesetzt wird:
</p>

<pre>
<p>  Dieser Text ist weiß auf blauem Untergrund und
  rechtsbündig.
  % Hintergrundfarbe = blau
  % Farbe = weiß
  % Ausrichtung = right</p>
</pre>


<p>
wird zu:
</p>

<div style="padding: 1em; text-align: right; background-color: #00FFFF; color: red">
<p>
Dieser Text ist rot auf blauem Untergrund und
rechtsbündig.
</p>
</div>

<p>
Folgende Parameter werden derzeit unterstützt:
</p>

<ul>
<li> „Name“, „Bezeichnung“ oder  „Label“ für \label / &lt;?? id="[id]"&gt; that is
  referred to by the „see“ keyword.</li>
<li> „Hintergrund“ für \colorbox / &lt;div style=‚background: [color]'&gt;.</li>
<li> „Farbe“ für \textcolor / &lt;div style=‚color: [color]'&gt;.</li>
<li> <a class="fn" href="#fn5" id="fna5">„Ausrichtung“</a> für \raggedleft, \centering or \raggedright / &lt;div
  style=‚text-align: [align]'&gt;.
</li>
</ul>


<H3>Listen</H3>

<p>
List sind das Einzige, das eine Art Auszeichnung benötigt:
Sie müssen jeden Punkt in der List mit einem der folgenden
Zeichen beginnen:&nbsp;<span class="tt">–, *, +, -</span>. Dabei spielt es keine Rolle,
welches Sie wählen. Sie können Zeilen einrücken, aber das
beeinflusst das Layout nicht.
</p>

<pre>
<p>
* Top 1.
- Top 2.</p>
</pre>


<ul>
<li> Top 1.</li>
<li> Top 2.
</li>
</ul>


<p>
Für Listen mit mehreren Ebenen haben Sie zwei Möglichkeiten,
die Ebene zu wechseln: Die reine LaFiC-Stil wäre, einen
neuen Abschnitt einzufügen und dahinter eines der
Schlüsselworte <span class="tt">»% Level+«</span> oder <span class="tt">»% Level-«</span> anzuhängen.
</p>

<pre>
<p>
  * Top 1.
  * Top 2.</p>

<p>
  * Top 2a.
  * Top 2b.
  % level+</p>
</pre>


<ul>
<li> Top 1.</li>
<li> Top 2.

</li>
<ul>
<li> Top 2a.</li>
<li> Top 2b.
</li>
</ul>

</ul>

<p>
Die andere Möglichkeit ist die Liste in <em>einem</em> Abschnitt zu
setzen und die Ebenenwechsel mit einem <span class="tt">Größer-</span>
bzw. <span class="tt">Kleiner-als-Zeichen</span> in einer ansonsten leeren Zeile anzuzeigen:
</p>

<pre>
<p>
  * Top 1.
  * Top 2.
  &gt;
    * Top 2a.
    * Top 2b.
  &lt;
  * Top 3</p>
</pre>


<ul>
<li> Top 1.</li>
<li> Top 2.
</li>
<ul>
<li> Top 2a.</li>
<li> Top 2b.
</li>
</ul>
<li> Top 3
</li>
</ul>


<H3>Bilder</H3>

<p>
Die einfachste Möglichkeit ein Bild in eine LaFiC-Datei
einzubinden ist es, eine Zeile mit dem Namen des Bildes mit
einer der Dateiendungen png, jpg, jpeg oder gif einfügt:
</p>

<pre>
<p>  Image.png
  % Breite = 50%
  % Ausrichtung = center</p>
</pre>


<div style="padding: 1em; text-align: center">
<img style="width: 50%;" src="./Image.png">
</div>

<p>
Zur Formatierung stehen folgende Parameter zur Verfügung:
</p>

<ul>
<li> Höhe</li>
<li> Breite</li>
<li> Ausrichtung
</li>
</ul>


<p>
Auf diese Art wird das Bild aber nicht als Flußelement
eingefügt. Dafür muss das Bild mit  %Bild formatiert
werden.
</p>

<pre>
<p>  % Bild
  Image.png
  % Höhe = 40%
  % Beschriftung = Mars and Moon
  % Name = bild1
  % Ausrichtung = right</p>
</pre>


<div style="padding: 1em; text-align: right">
<figure  role="group">
<img style="height: 40%;" src="./Image.png">
</figure>
</figure>

</div>

<p>
Damit stehen dann zwei weitere Parameter zur Verfügung:
</p>

<ul>
<li> Name</li>
<li> Beschriftung
</li>
</ul>


<H3>Farben</H3>

<p>
Folgende Farben werden zur Zeit als Argument für die
Parameter Farbe und Hintergrund unterstützt:
</p>

<div style="padding: 1em; background-color: lightgray">
<ul>
<li> grau</li>
<li> <span style="color: lawngreen">grün</span></li>
<li> <span style="color: #FFF8C6">gelb</span></li>
<li> <span style="color: #00FFFF">blau</span></li>
<li> <span style="color: red">rot</span></li>
<li> <span style="color: white">weiß</span>
</li>
</ul>

</div>

<h2>Anpassung</h2>

<p>
LaFiC lässt sich auf verschiedene Weise anpassen.
</p>

<H3>Vorlagen</H3>

<p>
LaFiC nutzt Vorlagen. Diese liegen im Unterverzeichnis
<span class="tt">/templates</span> des LaFiC-Verzeichnisses und tragen die
Dateiendung .tmp.tex für LaTeX-, bzw. .tmp.html für
Html-Dokumenten. Für deutschsprachige Projekte sollten die
Dateinamen auf <span class="tt">_de_DE</span> enden.
</p>

<p>
Sie können eigene Vorlagen erstellen und in diesem
Verzeichnis ablegen. LaFiC erwartet in LaTeX-Vorlagen
dabei zumindest <span class="tt">graphicx</span> für das Einbinden von Bildern,
<span class="tt">hyperref</span> für die Nutzung von Links und <span class="tt">xcolor</span> mit den
optionen <span class="tt">x11names, dvipsnames* und svgnames</span>:
</p>

<pre>
<p>	\usepackage{graphicx}
	\usepackage[x11names, dvipsnames*, svgnames]{xcolor}
	\usepackage[hyperindex=false, pdfpagelabels,
                    pageanchor, hyperfootnotes=false, bookmarksopen,
	    	    pdfpagemode=UseOutlines]{hyperref}</p>
</pre>


<p>
Die Vorlage wird aufgerufen, indem der Dateiname ohne
Dateiendung nach einem Prozentzeichen in die erste Zeile
eines Dokumentes eingefügt wird:
</p>

<pre>
<p>	% Vorlage_de_DE</p>
</pre>


<p>
Außerdem ist es möglich Vorlagen für eine konkretes
Dokument zu erstellen, oder anzupassen. Solche Vorlagen
müssen im selben Verzeichnis wie das Dokument liegen und
denselben Dateinamen tragen:
</p>

<pre>
<p>	$ ls -1
  	.
  	..
  	Beispiel.lafic
  	Beispiel.tmp.tex
  	Beispiel.tmp.html</p>
</pre>


<p>
In den Vorlagen müssen Platzhalter für die Metadaten und den
eigentlichen Dokumenttext enthalten sein.
</p>

<p>
In LaTeX-Vorlagen sind das %TITLE% und %TEXT%:
</p>

<pre>
<p>	\documentclass{article}
	&nbsp;…
	%TITLE%
	\begin{document}
	%TEXT%
	\end{document}</p>
</pre>


<p>
In Html-Vorlagen heißen die Platzhalter &lt;!-- TITLE --&gt; und
&lt;!-- TEXT --&gt;:
</p>

<pre>
<p>	&lt;html&gt;
       	&lt;head&gt;
		&lt;!-- TITLE --&gt;
       	&lt;/head&gt;
       	&lt;body&gt;
		&lt;!-- TEXT --&gt;
       	&lt;/body&gt;
	&lt;/html&gt;</p>
</pre>


<h3>Für Fortgeschrittene: Eigene Schlüsselwörter</h3>

<p>
Wenn sie eigene LaTeX-Umgebungen und Makros, sowie die dazu
passenden CSS-Klassen definieren, können Sie eigene
Schlüsselwörter benutzen.
</p>


<H3>Stylesheets</H3>

<p>
Im Unterverzeichnis <span class="tt">/styles</span> befindet sich die Datei
<span class="tt">standard.css</span>. Sie enthält das Stylesheet für die
Standard-Html-Vorlagen von LaFiC. Sie können hier eigene
Stylesheets ablegen und Ihren Vorlagen verlinken. Zur Zeit
muss das Verzeichnis von Hand in das Arbeitsverzeichnis
kopiert oder dort verlinkt werden.
</p>

<h3><span class="tt">lafic.config.pl</span></h3>

<p>
In dieser Datei im LaFiC-Verzeichnis können Voreinstellungen
vorgenommen werden. Momentan gibt es nur zwei (mögliche)
Einträge:
</p>

<ul>
<li> <span class="tt">lang</span> für die Standardsprache. Statt dem Englisch wird hier
  zur Zeit nur <span class="tt">de_DE</span> als Eintrag für die Deutsche Sprache
  unterstützt.</li>
<li> <span class="tt">author</span> ist Momentan die einzige Möglichkeit den Autor für
  ihre Dokumente zu setzen.
</li>
</ul>


<p>
Die Eintäge in dieser Datei sind Perlkonstrukte und müssen
in der Form:
</p>

<pre>
<p>	Schlüssel =&gt; „Wert“,</p>
</pre>


<p>
geschrieben werden. Bitte beachten sie das Komma am Ende der Zeile.
</p>


<div id="footnotes">
<ol>
<li id="fn1"><a href="#fna1">Die Standard-Vorlagen, die LaFiC nutzt basieren auf XeLaTeX, da ich immer in Utf-8 schreibe. Die Nutzung von LaTeX sollte aber auch möglich sein.</a>
</li>
<li id="fn2"><a href="#fna2">Wird nicht von der Standard-Vorlage unterstützt. Es muss eine LaTeX-Klasse verwendet werden, die \chapter unterstützt.</a>
</li>
<li id="fn3"><a href="#fna3">In Html-Dokumenten werden Fußnoten in einer &lt;ol&gt;-Liste in einem &lt;div id=„footnote“&gt;-Container am Ende des Dokumentes dargestellt. Die einzelnen Fußnoten stehen in einem &lt;li id=„fn[x]"&gt;-Element.</a>
</li>
<li id="fn4"><a href="#fna4">Die eigenlich Ausrichtung muss derzeit noch auf Englisch angegeben werden.</a>
</li>
</ol>
</div>

</body>
</html>
